# 4d-tips-network-analysis

単位テストおよびリクエストログ解析の実装例

バージョン: v14

## 準備

``SAMPLE.4dbase``の``Components``フォルダーにある``UNIT.4dbase``を違う場所に退避します。（このコンポーネントがインストールされていると，自動テストが実行されるように設定されています。）

``SAMPLE.4dbase``を開きます。ローカル・リモートどちらのモードでも構いません。

データファイルは空です。``TEST_サンプルデータ作成``メソッドを実行し，サンプルデータを作成します。デフォルトでは100,000件のランダムなレコードが作成されます。

``On Startup``メソッド（``UNIT.4dbase``コンポーネントがインストールされている場合は``00_TEST``）を実行してみてください。集計画面が表示されます。「集計 1」から「集計 3」は，それぞれ同じ内容を集計を実行しますが，メソッドの書き方が違います。「集計 1」は古典的な4Dコーディングです。「集計 3」は，ネットワークトラフィックを意識した書き方になっています。

<img width="331" alt="2017-08-10 17 26 56" src="https://user-images.githubusercontent.com/10509075/29161490-635111f0-7df1-11e7-99f7-4318b4b277c1.png">

マシンのスペックにも左右されますが，それぞれ``30``秒ほどで完了するような集計となっています。ローカルホスト上のクライアント/サーバーでは，どのテストもあまり速度に違いが認められないかもしれません。

``SAMPLE.4dbase``を閉じ，``UNIT.4dbase``コンポーネントをインストールしてから，クライアント/サーバーでアプリケーションを開き直します。コンポーネントがインストールされている場合は，自動テスト実行の画面が表示されます。

<img width="662" alt="2017-08-10 17 56 55" src="https://user-images.githubusercontent.com/10509075/29162771-5a8c7e52-7df5-11e7-923f-953f1cc5c3d6.png">

